


<html>
  <head>
      <title>d3</title>
      <script src="http://d3js.org/d3.v3.min.js"  charset="utf-8"></script>
      <style>
        .chart div {
        font: 10px sans-serif;
        background-color: steelblue;
        text-align: right;
        padding: 3px;
        margin: 1px;
        color: white;
      }
      </style>
  </head>
  <body>
    
    <script>

var data2 = {
  "name": "Max",
  "value": 100,
  "children": [
    {"name": "A", "someAttr": "someAttr", "value": 10},
    {"name": "B", "someAttr": "someAttr", "value": 20},
    {"name": "C", "someAttr": "someAttr", "value": 30},
    {"name": "D", "someAttr": "someAttr", "value": 40},
    {"name": "max", "someAttr": "someAttr", "value": 50},
    {"name": "max", "someAttr": "someAttr", "value": 60},
    {"name": "max", "someAttr": "someAttr", "value": 70},
    {"name": "max", "someAttr": "someAttr", "value": 80},
    {"name": "Max", "someAttr": "someAttr", "value": 90},
    {"name": "max", "someAttr": "someAttr", "value": 100}
  ]
}
    var width = 800;
    var height = 600;

    var canvas = d3.select("body")
               .append("svg")
               .attr("width", width)
               .attr("height", height)
               .append("g")
               .attr("transform", "translate(50, 50)");

      var pack = d3.layout.pack()
                   .size([width/2, height - 50])
                   .padding(0)
      var nodes = pack.nodes(data2);
      console.log(nodes)
      var node = canvas.selectAll(".node")
                       .data(nodes)
                       .enter()
                       .append("g")
                       .attr("class", "node")
                       .attr("transform", function (d) { return "translate(" + d.x + "," + d.y + ")"})
      node.append("circle")
          .attr("r", function(d){return d.r})
          .attr("fill", function(d) {return d.children ? "#fff" : "steelblue"})
          .attr("opacity", 0.25)
          .attr("stroke", function(d) {return d.children ? "#fff" : "#ADADAD"})
          .attr("stroke-width", "2")
      node.append("text")
          .text(function (d) {return d.children ? "" : d.name + " " + d.someAttr} )

    </script>
  </body>
</html>
